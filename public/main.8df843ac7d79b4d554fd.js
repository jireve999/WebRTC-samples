(()=>{"use strict";var e,n,r,t,o,i={749:(e,n,r)=>{var t=r(5072),o=r.n(t),i=r(7825),c=r.n(i),a=r(7659),d=r.n(a),l=r(5056),s=r.n(l),u=r(540),f=r.n(u),p=r(1113),h=r.n(p),A=r(3046),v={};v.styleTagTransform=h(),v.setAttributes=s(),v.insert=d().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=f();var m=o()(A.default,v);if(!A.default.locals||e.hot.invalidate){var y=!A.default.locals,g=y?A:A.default.locals;e.hot.accept(3046,(n=>{A=r(3046),function(e,n,r){if(!e&&n||e&&!n)return!1;var t;for(t in e)if((!r||"default"!==t)&&e[t]!==n[t])return!1;for(t in n)if(!(r&&"default"===t||e[t]))return!1;return!0}(g,y?A:A.default.locals,y)?(g=y?A:A.default.locals,m(A.default)):e.hot.invalidate()}))}e.hot.dispose((function(){m()}));A.default&&A.default.locals&&A.default.locals},2496:(e,n,r)=>{var t=r(6540),o=r(5338),i=r(4976),c=r(7767),a=r(6712),d=r(3029),l=r(2901),s=r(6822),u=r(3954),f=r(5501),p=r(4848);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var A=[{title:"首页",path:"/"},{title:"摄像头示例",path:"/camera"}];const v=function(e){function n(){return(0,d.A)(this,n),e=this,r=n,t=arguments,r=(0,u.A)(r),(0,s.A)(e,h()?Reflect.construct(r,t||[],(0,u.A)(e).constructor):r.apply(e,t));var e,r,t}return(0,f.A)(n,e),(0,l.A)(n,[{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(a.A,{header:(0,p.jsx)("div",{children:"WebRTC示例"}),footer:(0,p.jsx)("div",{children:"Footer"}),bordered:!0,dataSource:A,renderItem:function(e){return(0,p.jsx)(a.A.Item,{children:(0,p.jsx)(i.N_,{to:e.path,children:e.title})})}})})}}])}(t.Component);var m=r(2603),y=r(9740),g=r(467),b=r(4467),x=r(4756),w=r.n(x);function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var C=window.constraints={audio:!1,video:!0};const j=function(e){function n(){var e,r,t,o;return(0,d.A)(this,n),r=this,t=n,t=(0,u.A)(t),e=(0,s.A)(r,E()?Reflect.construct(t,o||[],(0,u.A)(r).constructor):t.apply(r,o)),(0,b.A)(e,"openCamera",function(){var n=(0,g.A)(w().mark((function n(r){var t;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.mediaDevices.getUserMedia(C);case 3:t=n.sent,console.log("handleSuccess:"),e.handleSuccess(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),e.handleError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()),(0,b.A)(e,"handleSuccess",(function(n){var r=e.refs.myVideo,t=n.getVideoTracks();console.log("通过设置限制条件获取到流:",C),console.log("使用的视频设备: ".concat(t[0].label)),window.stream=n,r.srcObject=n})),e}return(0,f.A)(n,e),(0,l.A)(n,[{key:"handleError",value:function(e){if("ConstraintNotSatisfiedError"===e.name){var n=C.video;y.Ay.error("宽:".concat(n.width.exact," 高:").concat(n.height.exact," 设备不支持"))}else"PermissionDeniedError"===e.name&&y.Ay.error("没有摄像头和麦克风使用权限,请点击允许按钮");y.Ay.error("getUserMedia错误: ".concat(e.name),e)}},{key:"render",value:function(){return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("h1",{children:(0,p.jsx)("span",{children:"摄像头示例"})}),(0,p.jsx)("video",{className:"video",ref:"myVideo",autoPlay:!0,playsInline:!0}),(0,p.jsx)(m.Ay,{onClick:this.openCamera,children:"打开摄像头"})]})}}])}(t.Component);function _(){return(0,p.jsx)(i.I9,{children:(0,p.jsxs)(c.BV,{children:[(0,p.jsx)(c.qh,{path:"/",element:(0,p.jsx)(v,{})}),(0,p.jsx)(c.qh,{exact:!0,path:"/camera",component:j}),(0,p.jsx)(c.qh,{path:"*",element:(0,p.jsx)("h1",{children:"404 Not Found"})})]})})}r(9118),r(749);var k=document.getElementById("app");(0,o.H)(k).render((0,p.jsx)(t.StrictMode,{children:(0,p.jsx)(_,{})}))},3046:(e,n,r)=>{r.r(n),r.d(n,{default:()=>a});var t=r(1354),o=r.n(t),i=r(6314),c=r.n(i)()(o());c.push([e.id,'html{overflow-y:scroll}body{font-weight:300;word-break:break-word}h1{border-bottom:1px solid #ccc;font-family:"Roboto",sans-serif;font-weight:500;font-size:22px}h2{color:#444;font-weight:500}h3{border-top:1px solid #eee;color:#666;font-weight:500;margin:10px 0 10px 0;white-space:nowrap}.container{margin:0 auto 0 auto;max-width:600px;padding:10px 0px 10px 0px}.video{background:#222;margin:0 0 20px 0;width:640px;height:480px}.canvas{background-color:#ccc;width:640px;height:480px}.warning{color:red;font-weight:400}',"",{version:3,sources:["webpack://./styles/css/styles.scss"],names:[],mappings:"AACA,KAEE,iBAAA,CAGF,KAEE,eAAA,CAEA,qBAAA,CAGF,GACE,4BAAA,CACA,+BAAA,CACA,eAAA,CACA,cAAA,CAGF,GACE,UAAA,CACA,eAAA,CAGF,GACE,yBAAA,CACA,UAAA,CACA,eAAA,CACA,oBAAA,CACA,kBAAA,CAGF,WAEE,oBAAA,CAEA,eAAA,CACA,yBAAA,CAGF,OAEE,eAAA,CACA,iBAAA,CAEA,WAAA,CACA,YAAA,CAGF,QACE,qBAAA,CAEA,WAAA,CACA,YAAA,CAGF,SACE,SAAA,CACA,eAAA",sourcesContent:["//html样式\nhtml {\n  //垂直方向滚动\n  overflow-y: scroll;\n}\n//body样式\nbody {\n  //字体加粗\n  font-weight: 300;\n  //文字自动换行\n  word-break: break-word;\n}\n//标题1\nh1 {\n  border-bottom: 1px solid #ccc;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 22px;\n}\n//标题2\nh2 {\n  color: #444;\n  font-weight: 500;\n}\n//标题3\nh3 {\n  border-top: 1px solid #eee;\n  color: #666;\n  font-weight: 500;\n  margin: 10px 0 10px 0;\n  white-space: nowrap;\n}\n//主容器\n.container {\n  //左右居中\n  margin: 0 auto 0 auto;\n  //最大宽度\n  max-width: 600px;\n  padding: 10px 0px 10px 0px;\n}\n//视频默认样式\n.video {\n  //背景色\n  background: #222;\n  margin: 0 0 20px 0;\n  //宽高值,宽高比为4:3\n  width: 640px;\n  height: 480px;\n}\n//画布默认样式\n.canvas {\n  background-color: #ccc;\n  //宽高值,宽高比为4:3\n  width: 640px;\n  height: 480px;\n}\n//错误警告样式\n.warning {\n  color: red;\n  font-weight: 400;\n}\n\n\n\n\n\n"],sourceRoot:""}]);const a=c}},c={};function a(e){var n=c[e];if(void 0!==n){if(void 0!==n.error)throw n.error;return n.exports}var r=c[e]={id:e,exports:{}};try{var t={id:e,module:r,factory:i[e],require:a};a.i.forEach((function(e){e(t)})),r=t.module,t.factory.call(r.exports,r,r.exports,t.require)}catch(e){throw r.error=e,e}return r.exports}a.m=i,a.c=c,a.i=[],e=[],a.O=(n,r,t,o)=>{if(!r){var i=1/0;for(s=0;s<e.length;s++){for(var[r,t,o]=e[s],c=!0,d=0;d<r.length;d++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](r[d])))?r.splice(d--,1):(c=!1,o<i&&(i=o));if(c){e.splice(s--,1);var l=t();void 0!==l&&(n=l)}}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,t,o]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};n=n||[null,r({}),r([]),r(r)];for(var c=2&t&&e;"object"==typeof c&&!~n.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((n=>i[n]=()=>e[n]));return i.default=()=>e,a.d(o,i),o},a.d=(e,n)=>{for(var r in n)a.o(n,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},a.hu=e=>e+"."+a.h()+".hot-update.js",a.hmrF=()=>"main."+a.h()+".hot-update.json",a.h=()=>"07930c9b7b57785c4ce3",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t={},o="h5-samples:",a.l=(e,n,r,i)=>{if(t[e])t[e].push(n);else{var c,d;if(void 0!==r)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var u=l[s];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+r){c=u;break}}c||(d=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",o+r),c.src=e),t[e]=[n];var f=(n,r)=>{c.onerror=c.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(r))),n)return n(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),d&&document.head.appendChild(c)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,n,r,t={},o=a.c,i=[],c=[],d="idle",l=0,s=[];function u(e){d=e;for(var n=[],r=0;r<c.length;r++)n[r]=c[r].call(null,e);return Promise.all(n).then((function(){}))}function f(){0==--l&&u("ready").then((function(){if(0===l){var e=s;s=[];for(var n=0;n<e.length;n++)e[n]()}}))}function p(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return u("check").then(a.hmrM).then((function(r){return r?u("prepare").then((function(){var t=[];return n=[],Promise.all(Object.keys(a.hmrC).reduce((function(e,o){return a.hmrC[o](r.c,r.r,r.m,e,n,t),e}),[])).then((function(){return n=function(){return e?A(e):u("ready").then((function(){return t}))},0===l?n():new Promise((function(e){s.push((function(){e(n())}))}));var n}))})):u(v()?"ready":"idle").then((function(){return null}))}))}function h(e){return"ready"!==d?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+d+")")})):A(e)}function A(e){e=e||{},v();var t=n.map((function(n){return n(e)}));n=void 0;var o=t.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return u("abort").then((function(){throw o[0]}));var i=u("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var c,a=u("apply"),d=function(e){c||(c=e)},l=[];return t.forEach((function(e){if(e.apply){var n=e.apply(d);if(n)for(var r=0;r<n.length;r++)l.push(n[r])}})),Promise.all([i,a]).then((function(){return c?u("fail").then((function(){throw c})):r?A(e).then((function(e){return l.forEach((function(n){e.indexOf(n)<0&&e.push(n)})),e})):u("idle").then((function(){return l}))}))}function v(){if(r)return n||(n=[]),Object.keys(a.hmrI).forEach((function(e){r.forEach((function(r){a.hmrI[e](r,n)}))})),r=void 0,!0}a.hmrD=t,a.i.push((function(s){var A,v,m,y,g=s.module,b=function(n,r){var t=o[r];if(!t)return n;var c=function(c){if(t.hot.active){if(o[c]){var a=o[c].parents;-1===a.indexOf(r)&&a.push(r)}else i=[r],e=c;-1===t.children.indexOf(c)&&t.children.push(c)}else console.warn("[HMR] unexpected require("+c+") from disposed module "+r),i=[];return n(c)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(r){n[e]=r}}};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&"e"!==s&&Object.defineProperty(c,s,a(s));return c.e=function(e,r){return function(e){switch(d){case"ready":u("prepare");case"prepare":return l++,e.then(f,f),e;default:return e}}(n.e(e,r))},c}(s.require,s.id);g.hot=(A=s.id,v=g,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:m=e!==A,_requireSelf:function(){i=v.parents.slice(),e=m?void 0:A,a(A)},active:!0,accept:function(e,n,r){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._acceptedDependencies[e[t]]=n||function(){},y._acceptedErrorHandlers[e[t]]=r;else y._acceptedDependencies[e]=n||function(){},y._acceptedErrorHandlers[e]=r},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)y._declinedDependencies[e[n]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=y._disposeHandlers.indexOf(e);n>=0&&y._disposeHandlers.splice(n,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":n=[],Object.keys(a.hmrI).forEach((function(e){a.hmrI[e](A,n)})),u("ready");break;case"ready":Object.keys(a.hmrI).forEach((function(e){a.hmrI[e](A,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(A)}},check:p,apply:h,status:function(e){if(!e)return d;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var n=c.indexOf(e);n>=0&&c.splice(n,1)},data:t[A]},e=void 0,y),g.parents=i,g.children=[],i=[],s.require=b})),a.hmrC={},a.hmrI={}})(),a.p="/",(()=>{var e,n,r,t,o,i=a.hmrS_jsonp=a.hmrS_jsonp||{792:0},c={};function d(n,r){return e=r,new Promise(((e,r)=>{c[n]=e;var t=a.p+a.hu(n),o=new Error;a.l(t,(e=>{if(c[n]){c[n]=void 0;var t=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;o.message="Loading hot update chunk "+n+" failed.\n("+t+": "+i+")",o.name="ChunkLoadError",o.type=t,o.request=i,r(o)}}))}))}function l(e){function c(e){for(var n=[e],r={},t=n.map((function(e){return{chain:[e],id:e}}));t.length>0;){var o=t.pop(),i=o.id,c=o.chain,l=a.c[i];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var s=0;s<l.parents.length;s++){var u=l.parents[s],f=a.c[u];if(f){if(f.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([u]),moduleId:i,parentId:u};-1===n.indexOf(u)&&(f.hot._acceptedDependencies[i]?(r[u]||(r[u]=[]),d(r[u],[i])):(delete r[u],n.push(u),t.push({chain:c.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:r}}function d(e,n){for(var r=0;r<n.length;r++){var t=n[r];-1===e.indexOf(t)&&e.push(t)}}a.f&&delete a.f.jsonpHmr,n=void 0;var l={},s=[],u={},f=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in r)if(a.o(r,p)){var h=r[p],A=h?c(p):{type:"disposed",moduleId:p},v=!1,m=!1,y=!1,g="";switch(A.chain&&(g="\nUpdate propagation: "+A.chain.join(" -> ")),A.type){case"self-declined":e.onDeclined&&e.onDeclined(A),e.ignoreDeclined||(v=new Error("Aborted because of self decline: "+A.moduleId+g));break;case"declined":e.onDeclined&&e.onDeclined(A),e.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+A.moduleId+" in "+A.parentId+g));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(A),e.ignoreUnaccepted||(v=new Error("Aborted because "+p+" is not accepted"+g));break;case"accepted":e.onAccepted&&e.onAccepted(A),m=!0;break;case"disposed":e.onDisposed&&e.onDisposed(A),y=!0;break;default:throw new Error("Unexception type "+A.type)}if(v)return{error:v};if(m)for(p in u[p]=h,d(s,A.outdatedModules),A.outdatedDependencies)a.o(A.outdatedDependencies,p)&&(l[p]||(l[p]=[]),d(l[p],A.outdatedDependencies[p]));y&&(d(s,[A.moduleId]),u[p]=f)}r=void 0;for(var b,x=[],w=0;w<s.length;w++){var E=s[w],C=a.c[E];C&&(C.hot._selfAccepted||C.hot._main)&&u[E]!==f&&!C.hot._selfInvalidated&&x.push({module:E,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var e;t.forEach((function(e){delete i[e]})),t=void 0;for(var n,r=s.slice();r.length>0;){var o=r.pop(),c=a.c[o];if(c){var d={},u=c.hot._disposeHandlers;for(w=0;w<u.length;w++)u[w].call(null,d);for(a.hmrD[o]=d,c.hot.active=!1,delete a.c[o],delete l[o],w=0;w<c.children.length;w++){var f=a.c[c.children[w]];f&&((e=f.parents.indexOf(o))>=0&&f.parents.splice(e,1))}}}for(var p in l)if(a.o(l,p)&&(c=a.c[p]))for(b=l[p],w=0;w<b.length;w++)n=b[w],(e=c.children.indexOf(n))>=0&&c.children.splice(e,1)},apply:function(n){for(var r in u)a.o(u,r)&&(a.m[r]=u[r]);for(var t=0;t<o.length;t++)o[t](a);for(var i in l)if(a.o(l,i)){var c=a.c[i];if(c){b=l[i];for(var d=[],f=[],p=[],h=0;h<b.length;h++){var A=b[h],v=c.hot._acceptedDependencies[A],m=c.hot._acceptedErrorHandlers[A];if(v){if(-1!==d.indexOf(v))continue;d.push(v),f.push(m),p.push(A)}}for(var y=0;y<d.length;y++)try{d[y].call(null,b)}catch(r){if("function"==typeof f[y])try{f[y](r,{moduleId:i,dependencyId:p[y]})}catch(t){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:i,dependencyId:p[y],error:t,originalError:r}),e.ignoreErrored||(n(t),n(r))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:i,dependencyId:p[y],error:r}),e.ignoreErrored||n(r)}}}for(var g=0;g<x.length;g++){var w=x[g],E=w.module;try{w.require(E)}catch(r){if("function"==typeof w.errorHandler)try{w.errorHandler(r,{moduleId:E,module:a.c[E]})}catch(t){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:E,error:t,originalError:r}),e.ignoreErrored||(n(t),n(r))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:E,error:r}),e.ignoreErrored||n(r)}}return s}}}self.webpackHotUpdateh5_samples=(n,t,i)=>{for(var d in t)a.o(t,d)&&(r[d]=t[d],e&&e.push(d));i&&o.push(i),c[n]&&(c[n](),c[n]=void 0)},a.hmrI.jsonp=function(e,n){r||(r={},o=[],t=[],n.push(l)),a.o(r,e)||(r[e]=a.m[e])},a.hmrC.jsonp=function(e,c,s,u,f,p){f.push(l),n={},t=c,r=s.reduce((function(e,n){return e[n]=!1,e}),{}),o=[],e.forEach((function(e){a.o(i,e)&&void 0!==i[e]?(u.push(d(e,p)),n[e]=!0):n[e]=!1})),a.f&&(a.f.jsonpHmr=function(e,r){n&&a.o(n,e)&&!n[e]&&(r.push(d(e)),n[e]=!0)})},a.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(a.p+a.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))},a.O.j=e=>0===i[e];var s=(e,n)=>{var r,t,[o,c,d]=n,l=0;if(o.some((e=>0!==i[e]))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(d)var s=d(a)}for(e&&e(n);l<o.length;l++)t=o[l],a.o(i,t)&&i[t]&&i[t][0](),i[t]=0;return a.O(s)},u=self.webpackChunkh5_samples=self.webpackChunkh5_samples||[];u.forEach(s.bind(null,0)),u.push=s.bind(null,u.push.bind(u))})(),a.nc=void 0;var d=a.O(void 0,[415,76,401,222,759,368,814,615,2,457,140,44,911,935,212,549,393],(()=>a(2496)));d=a.O(d)})();
//# sourceMappingURL=main.8df843ac7d79b4d554fd.js.map