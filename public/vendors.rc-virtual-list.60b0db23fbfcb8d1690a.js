"use strict";(self.webpackChunkh5_samples=self.webpackChunkh5_samples||[]).push([[814],{551:(e,t,n)=>{n.d(t,{A:()=>I});var r=n(8168),o=n(2284),i=n(9379),u=n(4467),a=n(5544),c=n(3986),l=n(6942),s=n.n(l),f=n(6076),v=n(1470),d=n(981),h=n(6540),m=n(961),g=h.forwardRef((function(e,t){var n=e.height,o=e.offsetY,a=e.offsetX,c=e.children,l=e.prefixCls,v=e.onInnerResize,d=e.innerProps,m=e.rtl,g=e.extra,p={},A={display:"flex",flexDirection:"column"};return void 0!==o&&(p={height:n,position:"relative",overflow:"hidden"},A=(0,i.A)((0,i.A)({},A),{},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)({transform:"translateY(".concat(o,"px)")},m?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(f.A,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",(0,r.A)({style:A,className:s()((0,u.A)({},"".concat(l,"-holder-inner"),l)),ref:t},d),c,g)))}));g.displayName="Filler";const p=g;function A(e){var t=e.children,n=e.setRef,r=h.useCallback((function(e){n(e)}),[]);return h.cloneElement(t,{ref:r})}function w(e,t,n){var r=h.useState(e),o=(0,a.A)(r,2),i=o[0],u=o[1],c=h.useState(null),l=(0,a.A)(c,2),s=l[0],f=l[1];return h.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var a={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?n(e):a}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=c(r[f]);if(v!==c(o[f])){l=f,s=s||v!==c(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(i||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),f(e[r.index])),u(e)}),[e]),[s]}var E=n(5371);const M="object"===("undefined"==typeof navigator?"undefined":(0,o.A)(navigator))&&/Firefox/i.test(navigator.userAgent),R=function(e,t,n,r){var o=(0,h.useRef)(!1),i=(0,h.useRef)(null);var u=(0,h.useRef)({top:e,bottom:t,left:n,right:r});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):r&&!o.current||(clearTimeout(i.current),o.current=!0,i.current=setTimeout((function(){o.current=!1}),50)),!o.current&&r}};function S(e,t,n,r,o,i,u){var a=(0,h.useRef)(0),c=(0,h.useRef)(null),l=(0,h.useRef)(null),s=(0,h.useRef)(!1),f=R(t,n,r,o);var v=(0,h.useRef)(null),d=(0,h.useRef)(null);return[function(t){if(e){E.A.cancel(d.current),d.current=(0,E.A)((function(){v.current=null}),2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,h=n,m=r;("sx"===v.current||!v.current&&o&&r&&!n)&&(h=r,m=0,v.current="sx");var g=Math.abs(h),p=Math.abs(m);null===v.current&&(v.current=i&&g>p?"x":"y"),"y"===v.current?function(e,t){if(E.A.cancel(c.current),!f(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,a.current+=t,l.current=t,M||n.preventDefault(),c.current=(0,E.A)((function(){var e=s.current?10:1;u(a.current*e,!1),a.current=0})))}}(t,m):function(e,t){u(t,!0),M||e.preventDefault()}(t,h)}},function(t){e&&(s.current=t.detail===l.current)}]}var y=n(3029),b=n(2901);const x=function(){function e(){(0,y.A)(this,e),(0,u.A)(this,"maps",void 0),(0,u.A)(this,"id",0),(0,u.A)(this,"diffKeys",new Set),this.maps=Object.create(null)}return(0,b.A)(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function L(e){var t=parseFloat(e);return isNaN(t)?0:t}var H=14/15;function T(e){return Math.floor(Math.pow(e,.5))}function k(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}const z=h.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,c=e.scrollRange,l=e.onStartMove,f=e.onStopMove,v=e.onScroll,d=e.horizontal,m=e.spinSize,g=e.containerSize,p=e.style,A=e.thumbStyle,w=e.showScrollBar,M=h.useState(!1),R=(0,a.A)(M,2),S=R[0],y=R[1],b=h.useState(null),x=(0,a.A)(b,2),L=x[0],H=x[1],T=h.useState(null),z=(0,a.A)(T,2),D=z[0],C=z[1],N=!r,Y=h.useRef(),_=h.useRef(),B=h.useState(w),I=(0,a.A)(B,2),P=I[0],X=I[1],K=h.useRef(),O=function(){!0!==w&&!1!==w&&(clearTimeout(K.current),X(!0),K.current=setTimeout((function(){X(!1)}),3e3))},j=c-g||0,V=g-m||0,W=h.useMemo((function(){return 0===o||0===j?0:o/j*V}),[o,j,V]),F=h.useRef({top:W,dragging:S,pageY:L,startTop:D});F.current={top:W,dragging:S,pageY:L,startTop:D};var q=function(e){y(!0),H(k(e,d)),C(F.current.top),l(),e.stopPropagation(),e.preventDefault()};h.useEffect((function(){var e=function(e){e.preventDefault()},t=Y.current,n=_.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",q,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",q)}}),[]);var G=h.useRef();G.current=j;var J=h.useRef();J.current=V,h.useEffect((function(){if(S){var e,t=function(t){var n=F.current,r=n.dragging,o=n.pageY,i=n.startTop;E.A.cancel(e);var u=Y.current.getBoundingClientRect(),a=g/(d?u.width:u.height);if(r){var c=(k(t,d)-o)*a,l=i;!N&&d?l-=c:l+=c;var s=G.current,f=J.current,h=f?l/f:0,m=Math.ceil(h*s);m=Math.max(m,0),m=Math.min(m,s),e=(0,E.A)((function(){v(m,d)}))}},n=function(){y(!1),f()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),E.A.cancel(e)}}}),[S]),h.useEffect((function(){return O(),function(){clearTimeout(K.current)}}),[o]),h.useImperativeHandle(t,(function(){return{delayHidden:O}}));var Q="".concat(n,"-scrollbar"),U={position:"absolute",visibility:P?null:"hidden"},Z={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return d?(U.height=8,U.left=0,U.right=0,U.bottom=0,Z.height="100%",Z.width=m,N?Z.left=W:Z.right=W):(U.width=8,U.top=0,U.bottom=0,N?U.right=0:U.left=0,Z.width="100%",Z.height=m,Z.top=W),h.createElement("div",{ref:Y,className:s()(Q,(0,u.A)((0,u.A)((0,u.A)({},"".concat(Q,"-horizontal"),d),"".concat(Q,"-vertical"),!d),"".concat(Q,"-visible"),P)),style:(0,i.A)((0,i.A)({},U),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:O},h.createElement("div",{ref:_,className:s()("".concat(Q,"-thumb"),(0,u.A)({},"".concat(Q,"-thumb-moving"),S)),style:(0,i.A)((0,i.A)({},Z),A),onMouseDown:q}))}));function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var C=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],N=[],Y={overflowY:"auto",overflowAnchor:"none"};function _(e,t){var n=e.prefixCls,l=void 0===n?"rc-virtual-list":n,g=e.className,M=e.height,y=e.itemHeight,b=e.fullHeight,_=void 0===b||b,B=e.style,I=e.data,P=e.children,X=e.itemKey,K=e.virtual,O=e.direction,j=e.scrollWidth,V=e.component,W=void 0===V?"div":V,F=e.onScroll,q=e.onVirtualScroll,G=e.onVisibleChange,J=e.innerProps,Q=e.extraRender,U=e.styles,Z=e.showScrollBar,$=void 0===Z?"optional":Z,ee=(0,c.A)(e,C),te=h.useCallback((function(e){return"function"==typeof X?X(e):null==e?void 0:e[X]}),[X]),ne=function(e,t,n){var r=h.useState(0),o=(0,a.A)(r,2),i=o[0],u=o[1],c=(0,h.useRef)(new Map),l=(0,h.useRef)(new x),s=(0,h.useRef)(0);function f(){s.current+=1}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f();var t=function(){var e=!1;c.current.forEach((function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,u=o.marginBottom,a=r+L(i)+L(u);l.current.get(n)!==a&&(l.current.set(n,a),e=!0)}})),e&&u((function(e){return e+1}))};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then((function(){n===s.current&&t()}))}}return(0,h.useEffect)((function(){return f}),[]),[function(r,o){var i=e(r),u=c.current.get(i);o?(c.current.set(i,o),v()):c.current.delete(i),!u!=!o&&(o?null==t||t(r):null==n||n(r))},v,l.current,i]}(te,null,null),re=(0,a.A)(ne,4),oe=re[0],ie=re[1],ue=re[2],ae=re[3],ce=!(!1===K||!M||!y),le=h.useMemo((function(){return Object.values(ue.maps).reduce((function(e,t){return e+t}),0)}),[ue.id,ue.maps]),se=ce&&I&&(Math.max(y*I.length,le)>M||!!j),fe="rtl"===O,ve=s()(l,(0,u.A)({},"".concat(l,"-rtl"),fe),g),de=I||N,he=(0,h.useRef)(),me=(0,h.useRef)(),ge=(0,h.useRef)(),pe=(0,h.useState)(0),Ae=(0,a.A)(pe,2),we=Ae[0],Ee=Ae[1],Me=(0,h.useState)(0),Re=(0,a.A)(Me,2),Se=Re[0],ye=Re[1],be=(0,h.useState)(!1),xe=(0,a.A)(be,2),Le=xe[0],He=xe[1],Te=function(){He(!0)},ke=function(){He(!1)},ze={getKey:te};function De(e){Ee((function(t){var n=function(e){var t=e;Number.isNaN(Ue.current)||(t=Math.min(t,Ue.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return he.current.scrollTop=n,n}))}var Ce=(0,h.useRef)({start:0,end:de.length}),Ne=(0,h.useRef)(),Ye=w(de,te),_e=(0,a.A)(Ye,1)[0];Ne.current=_e;var Be=h.useMemo((function(){if(!ce)return{scrollHeight:void 0,start:0,end:de.length-1,offset:void 0};var e;if(!se)return{scrollHeight:(null===(e=me.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:de.length-1,offset:void 0};for(var t,n,r,o=0,i=de.length,u=0;u<i;u+=1){var a=de[u],c=te(a),l=ue.get(c),s=o+(void 0===l?y:l);s>=we&&void 0===t&&(t=u,n=o),s>we+M&&void 0===r&&(r=u),o=s}return void 0===t&&(t=0,n=0,r=Math.ceil(M/y)),void 0===r&&(r=de.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,de.length-1),offset:n}}),[se,ce,we,de,ae,M]),Ie=Be.scrollHeight,Pe=Be.start,Xe=Be.end,Ke=Be.offset;Ce.current.start=Pe,Ce.current.end=Xe,h.useLayoutEffect((function(){var e=ue.getRecord();if(1===e.size){var t=Array.from(e)[0],n=de[Pe];if(n)if(te(n)===t){var r=ue.get(t)-y;De((function(e){return e+r}))}}ue.resetRecord()}),[Ie]);var Oe=h.useState({width:0,height:M}),je=(0,a.A)(Oe,2),Ve=je[0],We=je[1],Fe=(0,h.useRef)(),qe=(0,h.useRef)(),Ge=h.useMemo((function(){return D(Ve.width,j)}),[Ve.width,j]),Je=h.useMemo((function(){return D(Ve.height,Ie)}),[Ve.height,Ie]),Qe=Ie-M,Ue=(0,h.useRef)(Qe);Ue.current=Qe;var Ze=we<=0,$e=we>=Qe,et=Se<=0,tt=Se>=j,nt=R(Ze,$e,et,tt),rt=function(){return{x:fe?-Se:Se,y:we}},ot=(0,h.useRef)(rt()),it=(0,v._q)((function(e){if(q){var t=(0,i.A)((0,i.A)({},rt()),e);ot.current.x===t.x&&ot.current.y===t.y||(q(t),ot.current=t)}}));function ut(e,t){var n=e;t?((0,m.flushSync)((function(){ye(n)})),it()):De(n)}var at=function(e){var t=e,n=j?j-Ve.width:0;return t=Math.max(t,0),t=Math.min(t,n)},ct=(0,v._q)((function(e,t){t?((0,m.flushSync)((function(){ye((function(t){return at(t+(fe?-e:e))}))})),it()):De((function(t){return t+e}))})),lt=S(ce,Ze,$e,et,tt,!!j,ct),st=(0,a.A)(lt,2),ft=st[0],vt=st[1];!function(e,t,n){var r,o=(0,h.useRef)(!1),i=(0,h.useRef)(0),u=(0,h.useRef)(0),a=(0,h.useRef)(null),c=(0,h.useRef)(null),l=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),a=i.current-t,l=u.current-r,s=Math.abs(a)>Math.abs(l);s?i.current=t:u.current=r;var f=n(s,s?a:l,!1,e);f&&e.preventDefault(),clearInterval(c.current),f&&(c.current=setInterval((function(){s?a*=H:l*=H;var e=Math.floor(s?a:l);(!n(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16))}},s=function(){o.current=!1,r()},f=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageX),u.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",l,{passive:!1}),a.current.addEventListener("touchend",s,{passive:!0}))};r=function(){a.current&&(a.current.removeEventListener("touchmove",l),a.current.removeEventListener("touchend",s))},(0,d.A)((function(){return e&&t.current.addEventListener("touchstart",f,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",f),r(),clearInterval(c.current)}}),[e])}(ce,he,(function(e,t,n,r){var o=r;return!nt(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),ft({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),function(e,t,n){h.useEffect((function(){var r=t.current;if(e&&r){var o,i,u=!1,a=function(){E.A.cancel(o)},c=function e(){a(),o=(0,E.A)((function(){n(i),e()}))},l=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,u=!0)}},s=function(){u=!1,a()},f=function(e){if(u){var t=k(e,!1),n=r.getBoundingClientRect(),o=n.top,l=n.bottom;t<=o?(i=-T(o-t),c()):t>=l?(i=T(t-l),c()):a()}};return r.addEventListener("mousedown",l),r.ownerDocument.addEventListener("mouseup",s),r.ownerDocument.addEventListener("mousemove",f),function(){r.removeEventListener("mousedown",l),r.ownerDocument.removeEventListener("mouseup",s),r.ownerDocument.removeEventListener("mousemove",f),a()}}}),[e])}(se,he,(function(e){De((function(t){return t+e}))})),(0,d.A)((function(){function e(e){var t=Ze&&e.detail<0,n=$e&&e.detail>0;!ce||t||n||e.preventDefault()}var t=he.current;return t.addEventListener("wheel",ft,{passive:!1}),t.addEventListener("DOMMouseScroll",vt,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",ft),t.removeEventListener("DOMMouseScroll",vt),t.removeEventListener("MozMousePixelScroll",e)}}),[ce,Ze,$e]),(0,d.A)((function(){if(j){var e=at(Se);ye(e),it({x:e})}}),[Ve.width,j]);var dt=function(){var e,t;null===(e=Fe.current)||void 0===e||e.delayHidden(),null===(t=qe.current)||void 0===t||t.delayHidden()},ht=function(e,t,n,r,u,c,l,s){var f=h.useRef(),v=h.useState(null),m=(0,a.A)(v,2),g=m[0],p=m[1];return(0,d.A)((function(){if(g&&g.times<10){if(!e.current)return void p((function(e){return(0,i.A)({},e)}));c();var o=g.targetAlign,a=g.originAlign,s=g.index,f=g.offset,v=e.current.clientHeight,d=!1,h=o,m=null;if(v){for(var A=o||a,w=0,E=0,M=0,R=Math.min(t.length-1,s),S=0;S<=R;S+=1){var y=u(t[S]);E=w;var b=n.get(y);w=M=E+(void 0===b?r:b)}for(var x="top"===A?f:v-f,L=R;L>=0;L-=1){var H=u(t[L]),T=n.get(H);if(void 0===T){d=!0;break}if((x-=T)<=0)break}switch(A){case"top":m=E-f;break;case"bottom":m=M-v+f;break;default:var k=e.current.scrollTop;E<k?h="top":M>k+v&&(h="bottom")}null!==m&&l(m),m!==g.lastTop&&(d=!0)}d&&p((0,i.A)((0,i.A)({},g),{},{times:g.times+1,targetAlign:h,lastTop:m}))}}),[g,e.current]),function(e){if(null!=e){if(E.A.cancel(f.current),"number"==typeof e)l(e);else if(e&&"object"===(0,o.A)(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex((function(t){return u(t)===e.key}));var i=e.offset;p({times:0,index:n,offset:void 0===i?0:i,originAlign:r})}}else s()}}(he,de,ue,y,te,(function(){return ie(!0)}),De,dt);h.useImperativeHandle(t,(function(){return{nativeElement:ge.current,getScrollInfo:rt,scrollTo:function(e){var t;(t=e)&&"object"===(0,o.A)(t)&&("left"in t||"top"in t)?(void 0!==e.left&&ye(at(e.left)),ht(e.top)):ht(e)}}})),(0,d.A)((function(){if(G){var e=de.slice(Pe,Xe+1);G(e,de)}}),[Pe,Xe,de]);var mt=function(e,t,n,r){var o=h.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),i=(0,a.A)(o,2),u=i[0],c=i[1];return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,a=u.get(o),l=u.get(i);if(void 0===a||void 0===l)for(var s=e.length,f=c.length;f<s;f+=1){var v,d=e[f],h=t(d);u.set(h,f);var m=null!==(v=n.get(h))&&void 0!==v?v:r;if(c[f]=(c[f-1]||0)+m,h===o&&(a=f),h===i&&(l=f),void 0!==a&&void 0!==l)break}return{top:c[a-1]||0,bottom:c[l]}}}(de,te,ue,y),gt=null==Q?void 0:Q({start:Pe,end:Xe,virtual:se,offsetX:Se,offsetY:Ke,rtl:fe,getSize:mt}),pt=function(e,t,n,r,o,i,u,a){var c=a.getKey;return e.slice(t,n+1).map((function(e,n){var a=u(e,t+n,{style:{width:r},offsetX:o}),l=c(e);return h.createElement(A,{key:l,setRef:function(t){return i(e,t)}},a)}))}(de,Pe,Xe,j,Se,oe,P,ze),At=null;M&&(At=(0,i.A)((0,u.A)({},_?"height":"maxHeight",M),Y),ce&&(At.overflowY="hidden",j&&(At.overflowX="hidden"),Le&&(At.pointerEvents="none")));var wt={};return fe&&(wt.dir="rtl"),h.createElement("div",(0,r.A)({ref:ge,style:(0,i.A)((0,i.A)({},B),{},{position:"relative"}),className:ve},wt,ee),h.createElement(f.A,{onResize:function(e){We({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(W,{className:"".concat(l,"-holder"),style:At,ref:he,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==we&&De(t),null==F||F(e),it()},onMouseEnter:dt},h.createElement(p,{prefixCls:l,height:Ie,offsetX:Se,offsetY:Ke,scrollWidth:j,onInnerResize:ie,ref:me,innerProps:J,rtl:fe,extra:gt},pt))),se&&Ie>M&&h.createElement(z,{ref:Fe,prefixCls:l,scrollOffset:we,scrollRange:Ie,rtl:fe,onScroll:ut,onStartMove:Te,onStopMove:ke,spinSize:Je,containerSize:Ve.height,style:null==U?void 0:U.verticalScrollBar,thumbStyle:null==U?void 0:U.verticalScrollBarThumb,showScrollBar:$}),se&&j>Ve.width&&h.createElement(z,{ref:qe,prefixCls:l,scrollOffset:Se,scrollRange:j,rtl:fe,onScroll:ut,onStartMove:Te,onStopMove:ke,spinSize:Ge,containerSize:Ve.width,horizontal:!0,style:null==U?void 0:U.horizontalScrollBar,thumbStyle:null==U?void 0:U.horizontalScrollBarThumb,showScrollBar:$}))}var B=h.forwardRef(_);B.displayName="List";const I=B}}]);
//# sourceMappingURL=vendors.rc-virtual-list.60b0db23fbfcb8d1690a.js.map